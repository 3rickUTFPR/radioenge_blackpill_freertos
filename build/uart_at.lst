ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"uart_at.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	cmd_buffer
  18              		.section	.bss.cmd_buffer,"aw",%nobits
  19              		.align	2
  22              	cmd_buffer:
  23 0000 00000000 		.space	20
  23      00000000 
  23      00000000 
  23      00000000 
  23      00000000 
  24              		.global	cmd_len
  25              		.section	.bss.cmd_len,"aw",%nobits
  28              	cmd_len:
  29 0000 00       		.space	1
  30              		.global	byte
  31              		.section	.bss.byte,"aw",%nobits
  34              	byte:
  35 0000 00       		.space	1
  36              		.global	mpid_ATCMD_MemPool
  37              		.section	.bss.mpid_ATCMD_MemPool,"aw",%nobits
  38              		.align	2
  41              	mpid_ATCMD_MemPool:
  42 0000 00000000 		.space	4
  43              		.global	mpid_LoRaPayload_MemPool
  44              		.section	.bss.mpid_LoRaPayload_MemPool,"aw",%nobits
  45              		.align	2
  48              	mpid_LoRaPayload_MemPool:
  49 0000 00000000 		.space	4
  50              		.global	AT_COMMANDS
  51              		.section	.rodata.AT_COMMANDS,"a"
  52              		.align	2
  55              	AT_COMMANDS:
  56 0000 00       		.byte	0
  57 0001 08       		.byte	8
  58 0002 03       		.byte	3
  59 0003 00       		.space	1
  60 0004 2C010000 		.word	300
  61 0008 41545A00 		.ascii	"ATZ\000"
  62 000c 00000000 		.space	12
  62      00000000 
  62      00000000 
  63 0018 01       		.byte	1
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 2


  64 0019 00       		.byte	0
  65 001a 03       		.byte	3
  66 001b 00       		.space	1
  67 001c 2C010000 		.word	300
  68 0020 41542B43 		.ascii	"AT+CFM\000"
  68      464D00
  69 0027 00000000 		.space	9
  69      00000000 
  69      00
  70 0030 02       		.byte	2
  71 0031 00       		.byte	0
  72 0032 03       		.byte	3
  73 0033 00       		.space	1
  74 0034 2C010000 		.word	300
  75 0038 41542B41 		.ascii	"AT+APPKEY\000"
  75      50504B45 
  75      5900
  76 0042 00000000 		.space	6
  76      0000
  77 0048 03       		.byte	3
  78 0049 00       		.byte	0
  79 004a 03       		.byte	3
  80 004b 00       		.space	1
  81 004c 2C010000 		.word	300
  82 0050 41542B41 		.ascii	"AT+APPEUI\000"
  82      50504555 
  82      4900
  83 005a 00000000 		.space	6
  83      0000
  84 0060 04       		.byte	4
  85 0061 00       		.byte	0
  86 0062 03       		.byte	3
  87 0063 00       		.space	1
  88 0064 2C010000 		.word	300
  89 0068 41542B41 		.ascii	"AT+ADR\000"
  89      445200
  90 006f 00000000 		.space	9
  90      00000000 
  90      00
  91 0078 05       		.byte	5
  92 0079 00       		.byte	0
  93 007a 03       		.byte	3
  94 007b 00       		.space	1
  95 007c 2C010000 		.word	300
  96 0080 41542B4E 		.ascii	"AT+NJM\000"
  96      4A4D00
  97 0087 00000000 		.space	9
  97      00000000 
  97      00
  98 0090 06       		.byte	6
  99 0091 00       		.byte	0
 100 0092 03       		.byte	3
 101 0093 00       		.space	1
 102 0094 2C010000 		.word	300
 103 0098 41542B4A 		.ascii	"AT+JOIN\000"
 103      4F494E00 
 104 00a0 00000000 		.space	8
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 3


 104      00000000 
 105 00a8 07       		.byte	7
 106 00a9 00       		.byte	0
 107 00aa 03       		.byte	3
 108 00ab 00       		.space	1
 109 00ac 2C010000 		.word	300
 110 00b0 41542B43 		.ascii	"AT+CHMASK\000"
 110      484D4153 
 110      4B00
 111 00ba 00000000 		.space	6
 111      0000
 112 00c0 08       		.byte	8
 113 00c1 01       		.byte	1
 114 00c2 03       		.byte	3
 115 00c3 00       		.space	1
 116 00c4 2C010000 		.word	300
 117 00c8 41542B53 		.ascii	"AT+SENDB\000"
 117      454E4442 
 117      00
 118 00d1 00000000 		.space	7
 118      000000
 119 00d8 09       		.byte	9
 120 00d9 01       		.byte	1
 121 00da 03       		.byte	3
 122 00db 00       		.space	1
 123 00dc 2C010000 		.word	300
 124 00e0 41542B53 		.ascii	"AT+SEND\000"
 124      454E4400 
 125 00e8 00000000 		.space	8
 125      00000000 
 126 00f0 0A       		.byte	10
 127 00f1 00       		.byte	0
 128 00f2 03       		.byte	3
 129 00f3 00       		.space	1
 130 00f4 2C010000 		.word	300
 131 00f8 41540D0A 		.ascii	"AT\015\012\000"
 131      00
 132 00fd 00000000 		.space	11
 132      00000000 
 132      000000
 133 0108 0B       		.byte	11
 134 0109 00       		.byte	0
 135 010a 03       		.byte	3
 136 010b 00       		.space	1
 137 010c 2C010000 		.word	300
 138 0110 554E4445 		.ascii	"UNDEFINED\000"
 138      46494E45 
 138      4400
 139 011a 00000000 		.space	6
 139      0000
 140              		.global	AT_RESPONSES
 141              		.section	.rodata.AT_RESPONSES,"a"
 142              		.align	2
 145              	AT_RESPONSES:
 146 0000 00       		.byte	0
 147 0001 41545F4F 		.ascii	"AT_OK\000"
 147      4B00
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 4


 148 0007 00000000 		.space	10
 148      00000000 
 148      0000
 149 0011 01       		.byte	1
 150 0012 41545F54 		.ascii	"AT_TX_OK\000"
 150      585F4F4B 
 150      00
 151 001b 00000000 		.space	7
 151      000000
 152 0022 02       		.byte	2
 153 0023 52583A00 		.ascii	"RX:\000"
 154 0027 00000000 		.space	12
 154      00000000 
 154      00000000 
 155 0033 03       		.byte	3
 156 0034 41545F45 		.ascii	"AT_ERROR\000"
 156      52524F52 
 156      00
 157 003d 00000000 		.space	7
 157      000000
 158 0044 04       		.byte	4
 159 0045 41545F4A 		.ascii	"AT_JOIN_OK\000"
 159      4F494E5F 
 159      4F4B00
 160 0050 00000000 		.space	5
 160      00
 161 0055 05       		.byte	5
 162 0056 41545F54 		.ascii	"AT_TIMEOUT\000"
 162      494D454F 
 162      555400
 163 0061 00000000 		.space	5
 163      00
 164 0066 06       		.byte	6
 165 0067 41545F42 		.ascii	"AT_BUSY\000"
 165      55535900 
 166 006f 00000000 		.space	8
 166      00000000 
 167 0077 07       		.byte	7
 168 0078 41545F4A 		.ascii	"AT_JOIN_ERROR\000"
 168      4F494E5F 
 168      4552524F 
 168      5200
 169 0086 0000     		.space	2
 170 0088 08       		.byte	8
 171 0089 52616469 		.ascii	"Radioenge\000"
 171      6F656E67 
 171      6500
 172 0093 00000000 		.space	6
 172      0000
 173 0099 09       		.byte	9
 174 009a 41545F4E 		.ascii	"AT_NO_NETWORK_JO"
 174      4F5F4E45 
 174      54574F52 
 174      4B5F4A4F 
 175 00aa 0A       		.byte	10
 176 00ab 554E4445 		.ascii	"UNDEFINED\000"
 176      46494E45 
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 5


 176      4400
 177 00b5 00000000 		.space	6
 177      0000
 178              		.global	gPendingResponse
 179              		.section	.bss.gPendingResponse,"aw",%nobits
 182              	gPendingResponse:
 183 0000 00       		.space	1
 184              		.global	gATPayload
 185              		.section	.bss.gATPayload,"aw",%nobits
 186              		.align	2
 189              	gATPayload:
 190 0000 00000000 		.space	64
 190      00000000 
 190      00000000 
 190      00000000 
 190      00000000 
 191              		.section	.text.sendRAWAT,"ax",%progbits
 192              		.align	1
 193              		.global	sendRAWAT
 194              		.arch armv7e-m
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv4-sp-d16
 200              	sendRAWAT:
 201              	.LFB4:
 202              		.file 1 "Core/Src/uart_at.c"
   1:Core/Src/uart_at.c **** #include "cmsis_os.h"
   2:Core/Src/uart_at.c **** #include "uart_at.h"
   3:Core/Src/uart_at.c **** #include "uartRingBufDMA.h"
   4:Core/Src/uart_at.c **** 
   5:Core/Src/uart_at.c **** #define SEND_RAW_AT_WAIT_FLAG (0x80)
   6:Core/Src/uart_at.c **** 
   7:Core/Src/uart_at.c **** uint8_t cmd_buffer[20];
   8:Core/Src/uart_at.c **** uint8_t cmd_len = 0;
   9:Core/Src/uart_at.c **** uint8_t byte = 0;
  10:Core/Src/uart_at.c **** osMemoryPoolId_t mpid_ATCMD_MemPool; // memory pool id
  11:Core/Src/uart_at.c **** osMemoryPoolId_t mpid_LoRaPayload_MemPool; // memory pool id
  12:Core/Src/uart_at.c **** extern osMessageQueueId_t uartQueueHandle;
  13:Core/Src/uart_at.c **** 
  14:Core/Src/uart_at.c **** ATResponse ParseAT(char *buffer);
  15:Core/Src/uart_at.c **** ATResponse ParseResponse(char *buffer);
  16:Core/Src/uart_at.c **** 
  17:Core/Src/uart_at.c **** const AT_CMD_DEF_t AT_COMMANDS[NUM_AT_COMMANDS] =
  18:Core/Src/uart_at.c ****     {
  19:Core/Src/uart_at.c ****         {.command = ATZ, .expected_response = AT_RESET, .retries = 3, .timeout_ms = 300, .command_s
  20:Core/Src/uart_at.c ****         {.command = AT_CFM, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .command_s
  21:Core/Src/uart_at.c ****         {.command = AT_APPKEY, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .comman
  22:Core/Src/uart_at.c ****         {.command = AT_APPEUI, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .comman
  23:Core/Src/uart_at.c ****         {.command = AT_ADR, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .command_s
  24:Core/Src/uart_at.c ****         {.command = AT_NJM, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .command_s
  25:Core/Src/uart_at.c ****         {.command = AT_JOIN, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .command_
  26:Core/Src/uart_at.c ****         {.command = AT_CHMASK, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .comman
  27:Core/Src/uart_at.c ****         {.command = AT_SENDB, .expected_response = AT_TX_OK, .retries = 3, .timeout_ms = 300, .comm
  28:Core/Src/uart_at.c ****         {.command = AT_SEND, .expected_response = AT_TX_OK, .retries = 3, .timeout_ms = 300, .comma
  29:Core/Src/uart_at.c ****         {.command = AT, .expected_response = AT_OK, .retries = 3, .timeout_ms = 300, .command_strin
  30:Core/Src/uart_at.c ****         {.command = AT_COMMAND_UNDEFINED, .expected_response = AT_OK, .retries = 3, .timeout_ms = 3
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 6


  31:Core/Src/uart_at.c **** 
  32:Core/Src/uart_at.c **** const AT_RESPONSE_DEF_t AT_RESPONSES[NUM_AT_RESPONSES] =
  33:Core/Src/uart_at.c ****     {
  34:Core/Src/uart_at.c ****         {.response = AT_OK, .response_string = "AT_OK"},
  35:Core/Src/uart_at.c ****         {.response = AT_TX_OK, .response_string = "AT_TX_OK"},
  36:Core/Src/uart_at.c ****         {.response = AT_RX_OK, .response_string = "RX:"},
  37:Core/Src/uart_at.c ****         {.response = AT_ERROR, .response_string = "AT_ERROR"},
  38:Core/Src/uart_at.c ****         {.response = AT_JOINED, .response_string = "AT_JOIN_OK"},
  39:Core/Src/uart_at.c ****         {.response = AT_TIMEOUT, .response_string = "AT_TIMEOUT"},
  40:Core/Src/uart_at.c ****         {.response = AT_BUSY, .response_string = "AT_BUSY"},
  41:Core/Src/uart_at.c ****         {.response = AT_JOIN_ERROR, .response_string = "AT_JOIN_ERROR"},
  42:Core/Src/uart_at.c ****         {.response = AT_RESET, .response_string = "Radioenge"},
  43:Core/Src/uart_at.c ****         {.response = AT_NO_NETWORK_JOINED, .response_string = "AT_NO_NETWORK_JOINED"},
  44:Core/Src/uart_at.c ****         {.response = AT_RESPONSE_UNDEFINED, .response_string = "UNDEFINED"}};
  45:Core/Src/uart_at.c **** 
  46:Core/Src/uart_at.c **** extern void LoRaWAN_RxEventCallback(uint8_t *data, uint32_t length, uint32_t port, int32_t rssi, in
  47:Core/Src/uart_at.c **** extern void LoRaWAN_JoinCallback(ATResponse response);
  48:Core/Src/uart_at.c **** 
  49:Core/Src/uart_at.c **** ATResponse gPendingResponse;
  50:Core/Src/uart_at.c **** UART_MEM_BLOCK_t gATPayload;
  51:Core/Src/uart_at.c **** 
  52:Core/Src/uart_at.c **** ATResponse sendRAWAT(uint8_t *cmd)
  53:Core/Src/uart_at.c **** {    
 203              		.loc 1 53 1
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 24
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207 0000 90B5     		push	{r4, r7, lr}
 208              	.LCFI0:
 209              		.cfi_def_cfa_offset 12
 210              		.cfi_offset 4, -12
 211              		.cfi_offset 7, -8
 212              		.cfi_offset 14, -4
 213 0002 87B0     		sub	sp, sp, #28
 214              	.LCFI1:
 215              		.cfi_def_cfa_offset 40
 216 0004 00AF     		add	r7, sp, #0
 217              	.LCFI2:
 218              		.cfi_def_cfa_register 7
 219 0006 7860     		str	r0, [r7, #4]
  54:Core/Src/uart_at.c ****     CMD_t* pATCommand;
  55:Core/Src/uart_at.c ****     osStatus_t ret;
  56:Core/Src/uart_at.c ****     uint32_t retries = 0;
 220              		.loc 1 56 14
 221 0008 0023     		movs	r3, #0
 222 000a 7B61     		str	r3, [r7, #20]
  57:Core/Src/uart_at.c ****     osSemaphoreAcquire(ATCommandSemaphoreHandle, osWaitForever);
 223              		.loc 1 57 5
 224 000c 364B     		ldr	r3, .L9
 225 000e 1B68     		ldr	r3, [r3]
 226 0010 4FF0FF31 		mov	r1, #-1
 227 0014 1846     		mov	r0, r3
 228 0016 FFF7FEFF 		bl	osSemaphoreAcquire
  58:Core/Src/uart_at.c ****     pATCommand = (CMD_t *)osMemoryPoolAlloc(mpid_ATCMD_MemPool, 0U); // get Mem Block
 229              		.loc 1 58 27
 230 001a 344B     		ldr	r3, .L9+4
 231 001c 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 7


 232 001e 0021     		movs	r1, #0
 233 0020 1846     		mov	r0, r3
 234 0022 FFF7FEFF 		bl	osMemoryPoolAlloc
 235 0026 0346     		mov	r3, r0
 236              		.loc 1 58 16
 237 0028 FB60     		str	r3, [r7, #12]
  59:Core/Src/uart_at.c ****     if(pATCommand != NULL)
 238              		.loc 1 59 19
 239 002a FB68     		ldr	r3, [r7, #12]
 240              		.loc 1 59 7
 241 002c 002B     		cmp	r3, #0
 242 002e 4CD0     		beq	.L2
  60:Core/Src/uart_at.c ****     {
  61:Core/Src/uart_at.c ****         pATCommand->command = ParseAT(cmd);
 243              		.loc 1 61 19
 244 0030 FC68     		ldr	r4, [r7, #12]
 245              		.loc 1 61 31
 246 0032 7868     		ldr	r0, [r7, #4]
 247 0034 FFF7FEFF 		bl	ParseAT
 248 0038 0346     		mov	r3, r0
 249              		.loc 1 61 29
 250 003a 2370     		strb	r3, [r4]
  62:Core/Src/uart_at.c ****         pATCommand->response = AT_RESPONSE_UNDEFINED;
 251              		.loc 1 62 19
 252 003c FB68     		ldr	r3, [r7, #12]
 253              		.loc 1 62 30
 254 003e 0A22     		movs	r2, #10
 255 0040 5A70     		strb	r2, [r3, #1]
  63:Core/Src/uart_at.c ****         if(pATCommand->command != AT_COMMAND_UNDEFINED )
 256              		.loc 1 63 22
 257 0042 FB68     		ldr	r3, [r7, #12]
 258 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 259              		.loc 1 63 11
 260 0046 0B2B     		cmp	r3, #11
 261 0048 34D0     		beq	.L3
 262              	.LBB2:
  64:Core/Src/uart_at.c ****         {
  65:Core/Src/uart_at.c ****             memcpy(gATPayload.Buf,cmd,strlen(cmd)+1);
 263              		.loc 1 65 39
 264 004a 7868     		ldr	r0, [r7, #4]
 265 004c FFF7FEFF 		bl	strlen
 266 0050 0346     		mov	r3, r0
 267              		.loc 1 65 13
 268 0052 0133     		adds	r3, r3, #1
 269 0054 1A46     		mov	r2, r3
 270 0056 7968     		ldr	r1, [r7, #4]
 271 0058 2548     		ldr	r0, .L9+8
 272 005a FFF7FEFF 		bl	memcpy
  66:Core/Src/uart_at.c ****             pATCommand->tx_payload = &gATPayload;
 273              		.loc 1 66 23
 274 005e FB68     		ldr	r3, [r7, #12]
 275              		.loc 1 66 36
 276 0060 234A     		ldr	r2, .L9+8
 277 0062 5A60     		str	r2, [r3, #4]
  67:Core/Src/uart_at.c ****             gPendingResponse = AT_RESPONSE_UNDEFINED;
 278              		.loc 1 67 30
 279 0064 234B     		ldr	r3, .L9+12
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 8


 280 0066 0A22     		movs	r2, #10
 281 0068 1A70     		strb	r2, [r3]
  68:Core/Src/uart_at.c ****             pATCommand->RequestedBy = osThreadGetId();	
 282              		.loc 1 68 23
 283 006a FC68     		ldr	r4, [r7, #12]
 284              		.loc 1 68 39
 285 006c FFF7FEFF 		bl	osThreadGetId
 286 0070 0346     		mov	r3, r0
 287              		.loc 1 68 37
 288 0072 A360     		str	r3, [r4, #8]
 289              	.L6:
  69:Core/Src/uart_at.c ****             do
  70:Core/Src/uart_at.c ****             {
  71:Core/Src/uart_at.c ****                 ret = osMessageQueuePut(ATQueueHandle, &pATCommand, 0U, 250U);
 290              		.loc 1 71 23
 291 0074 204B     		ldr	r3, .L9+16
 292 0076 1868     		ldr	r0, [r3]
 293 0078 07F10C01 		add	r1, r7, #12
 294 007c FA23     		movs	r3, #250
 295 007e 0022     		movs	r2, #0
 296 0080 FFF7FEFF 		bl	osMessageQueuePut
 297 0084 3861     		str	r0, [r7, #16]
  72:Core/Src/uart_at.c ****                 if (ret != osOK)
 298              		.loc 1 72 20
 299 0086 3B69     		ldr	r3, [r7, #16]
 300 0088 002B     		cmp	r3, #0
 301 008a 06D0     		beq	.L4
  73:Core/Src/uart_at.c ****                 {
  74:Core/Src/uart_at.c ****                     if(retries++>4)
 302              		.loc 1 74 31
 303 008c 7B69     		ldr	r3, [r7, #20]
 304 008e 5A1C     		adds	r2, r3, #1
 305 0090 7A61     		str	r2, [r7, #20]
 306              		.loc 1 74 23
 307 0092 042B     		cmp	r3, #4
 308 0094 01D9     		bls	.L4
  75:Core/Src/uart_at.c ****                     {
  76:Core/Src/uart_at.c ****                         return AT_ERROR;                
 309              		.loc 1 76 32
 310 0096 0323     		movs	r3, #3
 311 0098 21E0     		b	.L8
 312              	.L4:
  77:Core/Src/uart_at.c ****                     }
  78:Core/Src/uart_at.c ****                 }
  79:Core/Src/uart_at.c ****             }while(ret != osOK);
 313              		.loc 1 79 13
 314 009a 3B69     		ldr	r3, [r7, #16]
 315 009c 002B     		cmp	r3, #0
 316 009e E9D1     		bne	.L6
  80:Core/Src/uart_at.c ****             //wait for response
  81:Core/Src/uart_at.c ****             osThreadFlagsClear (SEND_RAW_AT_WAIT_FLAG);            
 317              		.loc 1 81 13
 318 00a0 8020     		movs	r0, #128
 319 00a2 FFF7FEFF 		bl	osThreadFlagsClear
  82:Core/Src/uart_at.c ****             osThreadFlagsWait (SEND_RAW_AT_WAIT_FLAG, osFlagsWaitAny, osWaitForever);            
 320              		.loc 1 82 13
 321 00a6 4FF0FF32 		mov	r2, #-1
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 9


 322 00aa 0021     		movs	r1, #0
 323 00ac 8020     		movs	r0, #128
 324 00ae FFF7FEFF 		bl	osThreadFlagsWait
 325              	.LBE2:
 326 00b2 0DE0     		b	.L7
 327              	.L3:
  83:Core/Src/uart_at.c ****         }
  84:Core/Src/uart_at.c ****         else
  85:Core/Src/uart_at.c ****         {
  86:Core/Src/uart_at.c ****             osMemoryPoolFree(mpid_ATCMD_MemPool,pATCommand);
 328              		.loc 1 86 13
 329 00b4 0D4B     		ldr	r3, .L9+4
 330 00b6 1B68     		ldr	r3, [r3]
 331 00b8 FA68     		ldr	r2, [r7, #12]
 332 00ba 1146     		mov	r1, r2
 333 00bc 1846     		mov	r0, r3
 334 00be FFF7FEFF 		bl	osMemoryPoolFree
  87:Core/Src/uart_at.c ****             gPendingResponse = AT_ERROR;
 335              		.loc 1 87 30
 336 00c2 0C4B     		ldr	r3, .L9+12
 337 00c4 0322     		movs	r2, #3
 338 00c6 1A70     		strb	r2, [r3]
 339 00c8 02E0     		b	.L7
 340              	.L2:
  88:Core/Src/uart_at.c ****         }
  89:Core/Src/uart_at.c ****     }
  90:Core/Src/uart_at.c ****     else
  91:Core/Src/uart_at.c ****     {
  92:Core/Src/uart_at.c ****         gPendingResponse = AT_ERROR;
 341              		.loc 1 92 26
 342 00ca 0A4B     		ldr	r3, .L9+12
 343 00cc 0322     		movs	r2, #3
 344 00ce 1A70     		strb	r2, [r3]
 345              	.L7:
  93:Core/Src/uart_at.c ****     }
  94:Core/Src/uart_at.c ****     
  95:Core/Src/uart_at.c ****     osSemaphoreRelease(ATCommandSemaphoreHandle);
 346              		.loc 1 95 5
 347 00d0 054B     		ldr	r3, .L9
 348 00d2 1B68     		ldr	r3, [r3]
 349 00d4 1846     		mov	r0, r3
 350 00d6 FFF7FEFF 		bl	osSemaphoreRelease
  96:Core/Src/uart_at.c ****     return gPendingResponse;
 351              		.loc 1 96 12
 352 00da 064B     		ldr	r3, .L9+12
 353 00dc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 354              	.L8:
  97:Core/Src/uart_at.c **** }
 355              		.loc 1 97 1 discriminator 1
 356 00de 1846     		mov	r0, r3
 357 00e0 1C37     		adds	r7, r7, #28
 358              	.LCFI3:
 359              		.cfi_def_cfa_offset 12
 360 00e2 BD46     		mov	sp, r7
 361              	.LCFI4:
 362              		.cfi_def_cfa_register 13
 363              		@ sp needed
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 10


 364 00e4 90BD     		pop	{r4, r7, pc}
 365              	.L10:
 366 00e6 00BF     		.align	2
 367              	.L9:
 368 00e8 00000000 		.word	ATCommandSemaphoreHandle
 369 00ec 00000000 		.word	mpid_ATCMD_MemPool
 370 00f0 00000000 		.word	gATPayload
 371 00f4 00000000 		.word	gPendingResponse
 372 00f8 00000000 		.word	ATQueueHandle
 373              		.cfi_endproc
 374              	.LFE4:
 376              		.section	.text.ParseResponse,"ax",%progbits
 377              		.align	1
 378              		.global	ParseResponse
 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 382              		.fpu fpv4-sp-d16
 384              	ParseResponse:
 385              	.LFB5:
  98:Core/Src/uart_at.c **** 
  99:Core/Src/uart_at.c **** ATResponse ParseResponse(char *buffer)
 100:Core/Src/uart_at.c **** { 
 386              		.loc 1 100 1
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 16
 389              		@ frame_needed = 1, uses_anonymous_args = 0
 390 0000 90B5     		push	{r4, r7, lr}
 391              	.LCFI5:
 392              		.cfi_def_cfa_offset 12
 393              		.cfi_offset 4, -12
 394              		.cfi_offset 7, -8
 395              		.cfi_offset 14, -4
 396 0002 85B0     		sub	sp, sp, #20
 397              	.LCFI6:
 398              		.cfi_def_cfa_offset 32
 399 0004 00AF     		add	r7, sp, #0
 400              	.LCFI7:
 401              		.cfi_def_cfa_register 7
 402 0006 7860     		str	r0, [r7, #4]
 403              	.LBB3:
 101:Core/Src/uart_at.c ****     for (uint32_t i = 0; i < NUM_AT_RESPONSES; i++)
 404              		.loc 1 101 19
 405 0008 0023     		movs	r3, #0
 406 000a FB60     		str	r3, [r7, #12]
 407              		.loc 1 101 5
 408 000c 24E0     		b	.L12
 409              	.L15:
 410              	.LBB4:
 102:Core/Src/uart_at.c ****     {
 103:Core/Src/uart_at.c ****         if (strncmp(buffer, AT_RESPONSES[i].response_string, strlen(AT_RESPONSES[i].response_string
 411              		.loc 1 103 44
 412 000e FA68     		ldr	r2, [r7, #12]
 413 0010 1346     		mov	r3, r2
 414 0012 1B01     		lsls	r3, r3, #4
 415 0014 1344     		add	r3, r3, r2
 416 0016 144A     		ldr	r2, .L16
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 11


 417 0018 1344     		add	r3, r3, r2
 418 001a 5C1C     		adds	r4, r3, #1
 419              		.loc 1 103 84
 420 001c FA68     		ldr	r2, [r7, #12]
 421 001e 1346     		mov	r3, r2
 422 0020 1B01     		lsls	r3, r3, #4
 423 0022 1344     		add	r3, r3, r2
 424 0024 104A     		ldr	r2, .L16
 425 0026 1344     		add	r3, r3, r2
 426 0028 0133     		adds	r3, r3, #1
 427              		.loc 1 103 13
 428 002a 1846     		mov	r0, r3
 429 002c FFF7FEFF 		bl	strlen
 430 0030 0346     		mov	r3, r0
 431 0032 1A46     		mov	r2, r3
 432 0034 2146     		mov	r1, r4
 433 0036 7868     		ldr	r0, [r7, #4]
 434 0038 FFF7FEFF 		bl	strncmp
 435 003c 0346     		mov	r3, r0
 436              		.loc 1 103 12
 437 003e 002B     		cmp	r3, #0
 438 0040 07D1     		bne	.L13
 104:Core/Src/uart_at.c ****         {
 105:Core/Src/uart_at.c ****             return AT_RESPONSES[i].response;
 439              		.loc 1 105 35
 440 0042 0949     		ldr	r1, .L16
 441 0044 FA68     		ldr	r2, [r7, #12]
 442 0046 1346     		mov	r3, r2
 443 0048 1B01     		lsls	r3, r3, #4
 444 004a 1344     		add	r3, r3, r2
 445 004c 0B44     		add	r3, r3, r1
 446 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 447 0050 06E0     		b	.L14
 448              	.L13:
 449              	.LBE4:
 101:Core/Src/uart_at.c ****     {
 450              		.loc 1 101 49 discriminator 2
 451 0052 FB68     		ldr	r3, [r7, #12]
 452 0054 0133     		adds	r3, r3, #1
 453 0056 FB60     		str	r3, [r7, #12]
 454              	.L12:
 101:Core/Src/uart_at.c ****     {
 455              		.loc 1 101 5 discriminator 1
 456 0058 FB68     		ldr	r3, [r7, #12]
 457 005a 0A2B     		cmp	r3, #10
 458 005c D7D9     		bls	.L15
 459              	.LBE3:
 106:Core/Src/uart_at.c ****         }
 107:Core/Src/uart_at.c ****     }
 108:Core/Src/uart_at.c ****     return AT_RESPONSES[NUM_AT_RESPONSES-1].response; //undefined    
 460              		.loc 1 108 44
 461 005e 0A23     		movs	r3, #10
 462              	.L14:
 109:Core/Src/uart_at.c **** }
 463              		.loc 1 109 1
 464 0060 1846     		mov	r0, r3
 465 0062 1437     		adds	r7, r7, #20
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 12


 466              	.LCFI8:
 467              		.cfi_def_cfa_offset 12
 468 0064 BD46     		mov	sp, r7
 469              	.LCFI9:
 470              		.cfi_def_cfa_register 13
 471              		@ sp needed
 472 0066 90BD     		pop	{r4, r7, pc}
 473              	.L17:
 474              		.align	2
 475              	.L16:
 476 0068 00000000 		.word	AT_RESPONSES
 477              		.cfi_endproc
 478              	.LFE5:
 480              		.section	.text.ParseAT,"ax",%progbits
 481              		.align	1
 482              		.global	ParseAT
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 486              		.fpu fpv4-sp-d16
 488              	ParseAT:
 489              	.LFB6:
 110:Core/Src/uart_at.c **** 
 111:Core/Src/uart_at.c **** ATResponse ParseAT(char *buffer)
 112:Core/Src/uart_at.c **** {    
 490              		.loc 1 112 1
 491              		.cfi_startproc
 492              		@ args = 0, pretend = 0, frame = 16
 493              		@ frame_needed = 1, uses_anonymous_args = 0
 494 0000 90B5     		push	{r4, r7, lr}
 495              	.LCFI10:
 496              		.cfi_def_cfa_offset 12
 497              		.cfi_offset 4, -12
 498              		.cfi_offset 7, -8
 499              		.cfi_offset 14, -4
 500 0002 85B0     		sub	sp, sp, #20
 501              	.LCFI11:
 502              		.cfi_def_cfa_offset 32
 503 0004 00AF     		add	r7, sp, #0
 504              	.LCFI12:
 505              		.cfi_def_cfa_register 7
 506 0006 7860     		str	r0, [r7, #4]
 507              	.LBB5:
 113:Core/Src/uart_at.c ****     for (uint32_t i = 0; i < NUM_AT_COMMANDS; i++)
 508              		.loc 1 113 19
 509 0008 0023     		movs	r3, #0
 510 000a FB60     		str	r3, [r7, #12]
 511              		.loc 1 113 5
 512 000c 27E0     		b	.L19
 513              	.L22:
 514              	.LBB6:
 114:Core/Src/uart_at.c ****     {
 115:Core/Src/uart_at.c ****         if (strncmp(buffer, AT_COMMANDS[i].command_string, strlen(AT_COMMANDS[i].command_string)) =
 515              		.loc 1 115 43
 516 000e FA68     		ldr	r2, [r7, #12]
 517 0010 1346     		mov	r3, r2
 518 0012 5B00     		lsls	r3, r3, #1
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 13


 519 0014 1344     		add	r3, r3, r2
 520 0016 DB00     		lsls	r3, r3, #3
 521 0018 0833     		adds	r3, r3, #8
 522 001a 154A     		ldr	r2, .L23
 523 001c 9C18     		adds	r4, r3, r2
 524              		.loc 1 115 81
 525 001e FA68     		ldr	r2, [r7, #12]
 526 0020 1346     		mov	r3, r2
 527 0022 5B00     		lsls	r3, r3, #1
 528 0024 1344     		add	r3, r3, r2
 529 0026 DB00     		lsls	r3, r3, #3
 530 0028 0833     		adds	r3, r3, #8
 531 002a 114A     		ldr	r2, .L23
 532 002c 1344     		add	r3, r3, r2
 533              		.loc 1 115 13
 534 002e 1846     		mov	r0, r3
 535 0030 FFF7FEFF 		bl	strlen
 536 0034 0346     		mov	r3, r0
 537 0036 1A46     		mov	r2, r3
 538 0038 2146     		mov	r1, r4
 539 003a 7868     		ldr	r0, [r7, #4]
 540 003c FFF7FEFF 		bl	strncmp
 541 0040 0346     		mov	r3, r0
 542              		.loc 1 115 12
 543 0042 002B     		cmp	r3, #0
 544 0044 08D1     		bne	.L20
 116:Core/Src/uart_at.c ****         {
 117:Core/Src/uart_at.c ****             return AT_COMMANDS[i].command;
 545              		.loc 1 117 34
 546 0046 0A49     		ldr	r1, .L23
 547 0048 FA68     		ldr	r2, [r7, #12]
 548 004a 1346     		mov	r3, r2
 549 004c 5B00     		lsls	r3, r3, #1
 550 004e 1344     		add	r3, r3, r2
 551 0050 DB00     		lsls	r3, r3, #3
 552 0052 0B44     		add	r3, r3, r1
 553 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 554 0056 06E0     		b	.L21
 555              	.L20:
 556              	.LBE6:
 113:Core/Src/uart_at.c ****     {
 557              		.loc 1 113 48 discriminator 2
 558 0058 FB68     		ldr	r3, [r7, #12]
 559 005a 0133     		adds	r3, r3, #1
 560 005c FB60     		str	r3, [r7, #12]
 561              	.L19:
 113:Core/Src/uart_at.c ****     {
 562              		.loc 1 113 5 discriminator 1
 563 005e FB68     		ldr	r3, [r7, #12]
 564 0060 0B2B     		cmp	r3, #11
 565 0062 D4D9     		bls	.L22
 566              	.LBE5:
 118:Core/Src/uart_at.c ****         }
 119:Core/Src/uart_at.c ****     }
 120:Core/Src/uart_at.c ****     return AT_COMMANDS[NUM_AT_COMMANDS - 1].command; // undefined
 567              		.loc 1 120 44
 568 0064 0B23     		movs	r3, #11
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 14


 569              	.L21:
 121:Core/Src/uart_at.c **** }
 570              		.loc 1 121 1
 571 0066 1846     		mov	r0, r3
 572 0068 1437     		adds	r7, r7, #20
 573              	.LCFI13:
 574              		.cfi_def_cfa_offset 12
 575 006a BD46     		mov	sp, r7
 576              	.LCFI14:
 577              		.cfi_def_cfa_register 13
 578              		@ sp needed
 579 006c 90BD     		pop	{r4, r7, pc}
 580              	.L24:
 581 006e 00BF     		.align	2
 582              	.L23:
 583 0070 00000000 		.word	AT_COMMANDS
 584              		.cfi_endproc
 585              	.LFE6:
 587              		.section	.text.ATHandlingTaskCode,"ax",%progbits
 588              		.align	1
 589              		.global	ATHandlingTaskCode
 590              		.syntax unified
 591              		.thumb
 592              		.thumb_func
 593              		.fpu fpv4-sp-d16
 595              	ATHandlingTaskCode:
 596              	.LFB7:
 122:Core/Src/uart_at.c **** 
 123:Core/Src/uart_at.c **** void ATHandlingTaskCode(void *argument)
 124:Core/Src/uart_at.c **** {
 597              		.loc 1 124 1
 598              		.cfi_startproc
 599              		@ args = 0, pretend = 0, frame = 32
 600              		@ frame_needed = 1, uses_anonymous_args = 0
 601 0000 90B5     		push	{r4, r7, lr}
 602              	.LCFI15:
 603              		.cfi_def_cfa_offset 12
 604              		.cfi_offset 4, -12
 605              		.cfi_offset 7, -8
 606              		.cfi_offset 14, -4
 607 0002 8BB0     		sub	sp, sp, #44
 608              	.LCFI16:
 609              		.cfi_def_cfa_offset 56
 610 0004 02AF     		add	r7, sp, #8
 611              	.LCFI17:
 612              		.cfi_def_cfa 7, 48
 613 0006 7860     		str	r0, [r7, #4]
 125:Core/Src/uart_at.c ****     /* USER CODE BEGIN 5 */
 126:Core/Src/uart_at.c ****     /* Infinite loop */
 127:Core/Src/uart_at.c ****     AT_FSM ATTaskFSM = AT_IDLE;
 614              		.loc 1 127 12
 615 0008 0023     		movs	r3, #0
 616 000a FB77     		strb	r3, [r7, #31]
 128:Core/Src/uart_at.c ****     osStatus_t atevent;    
 129:Core/Src/uart_at.c ****     CMD_t* new_cmd=NULL;
 617              		.loc 1 129 12
 618 000c 0023     		movs	r3, #0
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 15


 619 000e BB60     		str	r3, [r7, #8]
 130:Core/Src/uart_at.c ****     CMD_t* send_cmd=NULL;
 620              		.loc 1 130 12
 621 0010 0023     		movs	r3, #0
 622 0012 BB61     		str	r3, [r7, #24]
 131:Core/Src/uart_at.c ****     CMD_t* PendingCommand = NULL;
 623              		.loc 1 131 12
 624 0014 0023     		movs	r3, #0
 625 0016 7B61     		str	r3, [r7, #20]
 132:Core/Src/uart_at.c ****     uint32_t CurrentRetries=0;    
 626              		.loc 1 132 14
 627 0018 0023     		movs	r3, #0
 628 001a 3B61     		str	r3, [r7, #16]
 629              	.L45:
 133:Core/Src/uart_at.c **** 
 134:Core/Src/uart_at.c ****     while (1)
 135:Core/Src/uart_at.c ****     {
 136:Core/Src/uart_at.c ****         atevent = osMessageQueueGet(ATQueueHandle, &new_cmd, NULL, 3000U);   // wait for message
 630              		.loc 1 136 19
 631 001c 9E4B     		ldr	r3, .L48
 632 001e 1868     		ldr	r0, [r3]
 633 0020 07F10801 		add	r1, r7, #8
 634 0024 40F6B833 		movw	r3, #3000
 635 0028 0022     		movs	r2, #0
 636 002a FFF7FEFF 		bl	osMessageQueueGet
 637 002e F860     		str	r0, [r7, #12]
 137:Core/Src/uart_at.c ****         if(atevent == osErrorTimeout)
 638              		.loc 1 137 11
 639 0030 FB68     		ldr	r3, [r7, #12]
 640 0032 13F1020F 		cmn	r3, #2
 641 0036 2CD1     		bne	.L26
 138:Core/Src/uart_at.c ****         {
 139:Core/Src/uart_at.c ****             if(PendingCommand!=NULL)
 642              		.loc 1 139 15
 643 0038 7B69     		ldr	r3, [r7, #20]
 644 003a 002B     		cmp	r3, #0
 645 003c 00F03781 		beq	.L27
 140:Core/Src/uart_at.c ****             {
 141:Core/Src/uart_at.c ****                 if(CurrentRetries < AT_COMMANDS[PendingCommand->command].retries)
 646              		.loc 1 141 63
 647 0040 7B69     		ldr	r3, [r7, #20]
 648 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 649 0044 1946     		mov	r1, r3
 650              		.loc 1 141 73
 651 0046 954A     		ldr	r2, .L48+4
 652 0048 0B46     		mov	r3, r1
 653 004a 5B00     		lsls	r3, r3, #1
 654 004c 0B44     		add	r3, r3, r1
 655 004e DB00     		lsls	r3, r3, #3
 656 0050 1344     		add	r3, r3, r2
 657 0052 0233     		adds	r3, r3, #2
 658 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 659 0056 1A46     		mov	r2, r3
 660              		.loc 1 141 19
 661 0058 3B69     		ldr	r3, [r7, #16]
 662 005a 9342     		cmp	r3, r2
 663 005c 05D2     		bcs	.L28
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 16


 142:Core/Src/uart_at.c ****                 {
 143:Core/Src/uart_at.c ****                     send_cmd = PendingCommand;
 664              		.loc 1 143 30
 665 005e 7B69     		ldr	r3, [r7, #20]
 666 0060 BB61     		str	r3, [r7, #24]
 144:Core/Src/uart_at.c ****                     CurrentRetries++;
 667              		.loc 1 144 35
 668 0062 3B69     		ldr	r3, [r7, #16]
 669 0064 0133     		adds	r3, r3, #1
 670 0066 3B61     		str	r3, [r7, #16]
 671 0068 21E1     		b	.L27
 672              	.L28:
 145:Core/Src/uart_at.c ****                 }
 146:Core/Src/uart_at.c ****                 else
 147:Core/Src/uart_at.c ****                 {                    
 148:Core/Src/uart_at.c ****                     gPendingResponse = AT_TIMEOUT;
 673              		.loc 1 148 38
 674 006a 8D4B     		ldr	r3, .L48+8
 675 006c 0522     		movs	r2, #5
 676 006e 1A70     		strb	r2, [r3]
 149:Core/Src/uart_at.c ****                     osThreadFlagsSet(PendingCommand->RequestedBy, SEND_RAW_AT_WAIT_FLAG);
 677              		.loc 1 149 21
 678 0070 7B69     		ldr	r3, [r7, #20]
 679 0072 9B68     		ldr	r3, [r3, #8]
 680 0074 8021     		movs	r1, #128
 681 0076 1846     		mov	r0, r3
 682 0078 FFF7FEFF 		bl	osThreadFlagsSet
 150:Core/Src/uart_at.c ****                     osMemoryPoolFree(mpid_ATCMD_MemPool,PendingCommand);
 683              		.loc 1 150 21
 684 007c 894B     		ldr	r3, .L48+12
 685 007e 1B68     		ldr	r3, [r3]
 686 0080 7969     		ldr	r1, [r7, #20]
 687 0082 1846     		mov	r0, r3
 688 0084 FFF7FEFF 		bl	osMemoryPoolFree
 151:Core/Src/uart_at.c ****                     PendingCommand = NULL;                    
 689              		.loc 1 151 36
 690 0088 0023     		movs	r3, #0
 691 008a 7B61     		str	r3, [r7, #20]
 152:Core/Src/uart_at.c ****                     ATTaskFSM = AT_IDLE;
 692              		.loc 1 152 31
 693 008c 0023     		movs	r3, #0
 694 008e FB77     		strb	r3, [r7, #31]
 695 0090 0DE1     		b	.L27
 696              	.L26:
 153:Core/Src/uart_at.c ****                 }
 154:Core/Src/uart_at.c ****             }
 155:Core/Src/uart_at.c ****         }
 156:Core/Src/uart_at.c ****         else if (atevent == osOK)
 697              		.loc 1 156 17
 698 0092 FB68     		ldr	r3, [r7, #12]
 699 0094 002B     		cmp	r3, #0
 700 0096 40F00981 		bne	.L46
 157:Core/Src/uart_at.c ****         {         
 158:Core/Src/uart_at.c ****             switch (new_cmd->command)
 701              		.loc 1 158 28
 702 009a BB68     		ldr	r3, [r7, #8]
 703 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 17


 704              		.loc 1 158 13
 705 009e 0A2B     		cmp	r3, #10
 706 00a0 04D8     		bhi	.L29
 159:Core/Src/uart_at.c ****             {
 160:Core/Src/uart_at.c ****                 case ATZ:
 161:Core/Src/uart_at.c ****                 case AT_CFM:
 162:Core/Src/uart_at.c ****                 case AT_APPKEY:
 163:Core/Src/uart_at.c ****                 case AT_APPEUI:
 164:Core/Src/uart_at.c ****                 case AT_ADR:
 165:Core/Src/uart_at.c ****                 case AT_NJM:
 166:Core/Src/uart_at.c ****                 case AT_JOIN:
 167:Core/Src/uart_at.c ****                 case AT_SENDB:
 168:Core/Src/uart_at.c ****                 case AT_SEND:
 169:Core/Src/uart_at.c ****                 case AT_CHMASK:
 170:Core/Src/uart_at.c ****                 case AT:
 171:Core/Src/uart_at.c ****                 {
 172:Core/Src/uart_at.c ****                     send_cmd = new_cmd;
 707              		.loc 1 172 30
 708 00a2 BB68     		ldr	r3, [r7, #8]
 709 00a4 BB61     		str	r3, [r7, #24]
 173:Core/Src/uart_at.c ****                     CurrentRetries = 0;
 710              		.loc 1 173 36
 711 00a6 0023     		movs	r3, #0
 712 00a8 3B61     		str	r3, [r7, #16]
 174:Core/Src/uart_at.c ****                     break;
 713              		.loc 1 174 21
 714 00aa 21E0     		b	.L30
 715              	.L29:
 175:Core/Src/uart_at.c ****                 }    
 176:Core/Src/uart_at.c ****                 case AT_COMMAND_UNDEFINED:        
 177:Core/Src/uart_at.c ****                 default:
 178:Core/Src/uart_at.c ****                 {
 179:Core/Src/uart_at.c ****                     if(new_cmd->response == AT_RESPONSE_UNDEFINED)
 716              		.loc 1 179 31
 717 00ac BB68     		ldr	r3, [r7, #8]
 718 00ae 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 719              		.loc 1 179 23
 720 00b0 0A2B     		cmp	r3, #10
 721 00b2 1CD1     		bne	.L47
 180:Core/Src/uart_at.c ****                     {
 181:Core/Src/uart_at.c ****                         //malformed CMD_t - should not be happening
 182:Core/Src/uart_at.c ****                         gPendingResponse = AT_ERROR;
 722              		.loc 1 182 42
 723 00b4 7A4B     		ldr	r3, .L48+8
 724 00b6 0322     		movs	r2, #3
 725 00b8 1A70     		strb	r2, [r3]
 183:Core/Src/uart_at.c ****                         if(PendingCommand)
 726              		.loc 1 183 27
 727 00ba 7B69     		ldr	r3, [r7, #20]
 728 00bc 002B     		cmp	r3, #0
 729 00be 0BD0     		beq	.L32
 184:Core/Src/uart_at.c ****                         {
 185:Core/Src/uart_at.c ****                             osThreadFlagsSet(PendingCommand->RequestedBy, SEND_RAW_AT_WAIT_FLAG);
 730              		.loc 1 185 29
 731 00c0 7B69     		ldr	r3, [r7, #20]
 732 00c2 9B68     		ldr	r3, [r3, #8]
 733 00c4 8021     		movs	r1, #128
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 18


 734 00c6 1846     		mov	r0, r3
 735 00c8 FFF7FEFF 		bl	osThreadFlagsSet
 186:Core/Src/uart_at.c ****                             osMemoryPoolFree(mpid_ATCMD_MemPool,PendingCommand);
 736              		.loc 1 186 29
 737 00cc 754B     		ldr	r3, .L48+12
 738 00ce 1B68     		ldr	r3, [r3]
 739 00d0 7969     		ldr	r1, [r7, #20]
 740 00d2 1846     		mov	r0, r3
 741 00d4 FFF7FEFF 		bl	osMemoryPoolFree
 742              	.L32:
 187:Core/Src/uart_at.c ****                         }
 188:Core/Src/uart_at.c ****                         osMemoryPoolFree(mpid_ATCMD_MemPool,new_cmd);                        
 743              		.loc 1 188 25
 744 00d8 724B     		ldr	r3, .L48+12
 745 00da 1B68     		ldr	r3, [r3]
 746 00dc BA68     		ldr	r2, [r7, #8]
 747 00de 1146     		mov	r1, r2
 748 00e0 1846     		mov	r0, r3
 749 00e2 FFF7FEFF 		bl	osMemoryPoolFree
 189:Core/Src/uart_at.c ****                         PendingCommand = NULL;                        
 750              		.loc 1 189 40
 751 00e6 0023     		movs	r3, #0
 752 00e8 7B61     		str	r3, [r7, #20]
 190:Core/Src/uart_at.c ****                         ATTaskFSM = AT_IDLE;
 753              		.loc 1 190 35
 754 00ea 0023     		movs	r3, #0
 755 00ec FB77     		strb	r3, [r7, #31]
 756              	.L47:
 191:Core/Src/uart_at.c ****                     }                    
 192:Core/Src/uart_at.c ****                     break;
 757              		.loc 1 192 21
 758 00ee 00BF     		nop
 759              	.L30:
 193:Core/Src/uart_at.c ****                 }                
 194:Core/Src/uart_at.c ****             }
 195:Core/Src/uart_at.c ****             if (new_cmd->response == AT_RX_OK)
 760              		.loc 1 195 24
 761 00f0 BB68     		ldr	r3, [r7, #8]
 762 00f2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 763              		.loc 1 195 16
 764 00f4 022B     		cmp	r3, #2
 765 00f6 23D1     		bne	.L33
 196:Core/Src/uart_at.c ****             {
 197:Core/Src/uart_at.c ****                 LoRaWAN_RxEventCallback(new_cmd->rx_payload->Buf, new_cmd->rx_payload->rcvDataLen, 
 766              		.loc 1 197 48
 767 00f8 BB68     		ldr	r3, [r7, #8]
 768 00fa 5B68     		ldr	r3, [r3, #4]
 769              		.loc 1 197 60
 770 00fc 03F11400 		add	r0, r3, #20
 771              		.loc 1 197 74
 772 0100 BB68     		ldr	r3, [r7, #8]
 773 0102 5B68     		ldr	r3, [r3, #4]
 774              		.loc 1 197 17
 775 0104 9968     		ldr	r1, [r3, #8]
 776              		.loc 1 197 107
 777 0106 BB68     		ldr	r3, [r7, #8]
 778 0108 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 19


 779              		.loc 1 197 17
 780 010a 1A68     		ldr	r2, [r3]
 781              		.loc 1 197 137
 782 010c BB68     		ldr	r3, [r7, #8]
 783 010e 5B68     		ldr	r3, [r3, #4]
 784              		.loc 1 197 17
 785 0110 DC68     		ldr	r4, [r3, #12]
 786              		.loc 1 197 167
 787 0112 BB68     		ldr	r3, [r7, #8]
 788 0114 5B68     		ldr	r3, [r3, #4]
 789              		.loc 1 197 17
 790 0116 1B69     		ldr	r3, [r3, #16]
 791 0118 0093     		str	r3, [sp]
 792 011a 2346     		mov	r3, r4
 793 011c FFF7FEFF 		bl	LoRaWAN_RxEventCallback
 198:Core/Src/uart_at.c ****                 //osMemoryPoolFree(mpid_LoRaPayload_MemPool, PendingCommand->rx_payload);          
 199:Core/Src/uart_at.c ****                 osMemoryPoolFree(mpid_LoRaPayload_MemPool, new_cmd->rx_payload);
 794              		.loc 1 199 17
 795 0120 614B     		ldr	r3, .L48+16
 796 0122 1A68     		ldr	r2, [r3]
 797              		.loc 1 199 67
 798 0124 BB68     		ldr	r3, [r7, #8]
 799 0126 5B68     		ldr	r3, [r3, #4]
 800              		.loc 1 199 17
 801 0128 1946     		mov	r1, r3
 802 012a 1046     		mov	r0, r2
 803 012c FFF7FEFF 		bl	osMemoryPoolFree
 200:Core/Src/uart_at.c ****                 osMemoryPoolFree(mpid_ATCMD_MemPool,new_cmd);                        
 804              		.loc 1 200 17
 805 0130 5C4B     		ldr	r3, .L48+12
 806 0132 1B68     		ldr	r3, [r3]
 807 0134 BA68     		ldr	r2, [r7, #8]
 808 0136 1146     		mov	r1, r2
 809 0138 1846     		mov	r0, r3
 810 013a FFF7FEFF 		bl	osMemoryPoolFree
 811 013e B6E0     		b	.L27
 812              	.L33:
 201:Core/Src/uart_at.c ****             }
 202:Core/Src/uart_at.c ****             else if ((new_cmd->response == AT_JOINED) || (new_cmd->response == AT_JOIN_ERROR))
 813              		.loc 1 202 30
 814 0140 BB68     		ldr	r3, [r7, #8]
 815 0142 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 816              		.loc 1 202 21
 817 0144 042B     		cmp	r3, #4
 818 0146 03D0     		beq	.L34
 819              		.loc 1 202 66 discriminator 1
 820 0148 BB68     		ldr	r3, [r7, #8]
 821 014a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 822              		.loc 1 202 55 discriminator 1
 823 014c 072B     		cmp	r3, #7
 824 014e 12D1     		bne	.L35
 825              	.L34:
 203:Core/Src/uart_at.c ****             {
 204:Core/Src/uart_at.c ****                 LoRaWAN_JoinCallback(new_cmd->response);
 826              		.loc 1 204 45
 827 0150 BB68     		ldr	r3, [r7, #8]
 828              		.loc 1 204 17
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 20


 829 0152 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 830 0154 1846     		mov	r0, r3
 831 0156 FFF7FEFF 		bl	LoRaWAN_JoinCallback
 205:Core/Src/uart_at.c ****                 osMemoryPoolFree(mpid_ATCMD_MemPool, PendingCommand);
 832              		.loc 1 205 17
 833 015a 524B     		ldr	r3, .L48+12
 834 015c 1B68     		ldr	r3, [r3]
 835 015e 7969     		ldr	r1, [r7, #20]
 836 0160 1846     		mov	r0, r3
 837 0162 FFF7FEFF 		bl	osMemoryPoolFree
 206:Core/Src/uart_at.c ****                 osMemoryPoolFree(mpid_ATCMD_MemPool,new_cmd);                        
 838              		.loc 1 206 17
 839 0166 4F4B     		ldr	r3, .L48+12
 840 0168 1B68     		ldr	r3, [r3]
 841 016a BA68     		ldr	r2, [r7, #8]
 842 016c 1146     		mov	r1, r2
 843 016e 1846     		mov	r0, r3
 844 0170 FFF7FEFF 		bl	osMemoryPoolFree
 845 0174 9BE0     		b	.L27
 846              	.L35:
 207:Core/Src/uart_at.c ****             }
 208:Core/Src/uart_at.c ****             else if (new_cmd->command == AT_COMMAND_UNDEFINED) // it is a response
 847              		.loc 1 208 29
 848 0176 BB68     		ldr	r3, [r7, #8]
 849 0178 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 850              		.loc 1 208 21
 851 017a 0B2B     		cmp	r3, #11
 852 017c 40F09680 		bne	.L46
 209:Core/Src/uart_at.c ****             {
 210:Core/Src/uart_at.c ****                 switch (ATTaskFSM)
 853              		.loc 1 210 17
 854 0180 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 855 0182 002B     		cmp	r3, #0
 856 0184 02D0     		beq	.L36
 857 0186 012B     		cmp	r3, #1
 858 0188 11D0     		beq	.L37
 859 018a 90E0     		b	.L27
 860              	.L36:
 211:Core/Src/uart_at.c ****                 {
 212:Core/Src/uart_at.c ****                 case AT_IDLE:
 213:Core/Src/uart_at.c ****                 {
 214:Core/Src/uart_at.c ****                     //unexpected response - ignore
 215:Core/Src/uart_at.c ****                     if (PendingCommand)
 861              		.loc 1 215 24
 862 018c 7B69     		ldr	r3, [r7, #20]
 863 018e 002B     		cmp	r3, #0
 864 0190 05D0     		beq	.L38
 216:Core/Src/uart_at.c ****                     {
 217:Core/Src/uart_at.c ****                         osMemoryPoolFree(mpid_ATCMD_MemPool, PendingCommand);
 865              		.loc 1 217 25
 866 0192 444B     		ldr	r3, .L48+12
 867 0194 1B68     		ldr	r3, [r3]
 868 0196 7969     		ldr	r1, [r7, #20]
 869 0198 1846     		mov	r0, r3
 870 019a FFF7FEFF 		bl	osMemoryPoolFree
 871              	.L38:
 218:Core/Src/uart_at.c ****                     }
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 21


 219:Core/Src/uart_at.c ****                     osMemoryPoolFree(mpid_ATCMD_MemPool,new_cmd);                        
 872              		.loc 1 219 21
 873 019e 414B     		ldr	r3, .L48+12
 874 01a0 1B68     		ldr	r3, [r3]
 875 01a2 BA68     		ldr	r2, [r7, #8]
 876 01a4 1146     		mov	r1, r2
 877 01a6 1846     		mov	r0, r3
 878 01a8 FFF7FEFF 		bl	osMemoryPoolFree
 220:Core/Src/uart_at.c ****                     break;
 879              		.loc 1 220 21
 880 01ac 7FE0     		b	.L27
 881              	.L37:
 221:Core/Src/uart_at.c ****                 }
 222:Core/Src/uart_at.c ****                 case AT_WAITING_RESPONSE:
 223:Core/Src/uart_at.c ****                 {
 224:Core/Src/uart_at.c ****                     if (new_cmd->response == AT_COMMANDS[PendingCommand->command].expected_response
 882              		.loc 1 224 32
 883 01ae BB68     		ldr	r3, [r7, #8]
 884 01b0 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 885              		.loc 1 224 72
 886 01b2 7B69     		ldr	r3, [r7, #20]
 887 01b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 888 01b6 1846     		mov	r0, r3
 889              		.loc 1 224 82
 890 01b8 3849     		ldr	r1, .L48+4
 891 01ba 0346     		mov	r3, r0
 892 01bc 5B00     		lsls	r3, r3, #1
 893 01be 0344     		add	r3, r3, r0
 894 01c0 DB00     		lsls	r3, r3, #3
 895 01c2 0B44     		add	r3, r3, r1
 896 01c4 0133     		adds	r3, r3, #1
 897 01c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 898              		.loc 1 224 24
 899 01c8 9A42     		cmp	r2, r3
 900 01ca 27D1     		bne	.L39
 225:Core/Src/uart_at.c ****                     {
 226:Core/Src/uart_at.c ****                         // all good
 227:Core/Src/uart_at.c ****                         gPendingResponse = AT_COMMANDS[PendingCommand->command].expected_response;
 901              		.loc 1 227 70
 902 01cc 7B69     		ldr	r3, [r7, #20]
 903 01ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 904 01d0 1946     		mov	r1, r3
 905              		.loc 1 227 80
 906 01d2 324A     		ldr	r2, .L48+4
 907 01d4 0B46     		mov	r3, r1
 908 01d6 5B00     		lsls	r3, r3, #1
 909 01d8 0B44     		add	r3, r3, r1
 910 01da DB00     		lsls	r3, r3, #3
 911 01dc 1344     		add	r3, r3, r2
 912 01de 0133     		adds	r3, r3, #1
 913 01e0 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 914              		.loc 1 227 42
 915 01e2 2F4B     		ldr	r3, .L48+8
 916 01e4 1A70     		strb	r2, [r3]
 228:Core/Src/uart_at.c ****                         if (PendingCommand)
 917              		.loc 1 228 28
 918 01e6 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 22


 919 01e8 002B     		cmp	r3, #0
 920 01ea 0BD0     		beq	.L40
 229:Core/Src/uart_at.c ****                         {
 230:Core/Src/uart_at.c ****                             osThreadFlagsSet(PendingCommand->RequestedBy, SEND_RAW_AT_WAIT_FLAG);
 921              		.loc 1 230 29
 922 01ec 7B69     		ldr	r3, [r7, #20]
 923 01ee 9B68     		ldr	r3, [r3, #8]
 924 01f0 8021     		movs	r1, #128
 925 01f2 1846     		mov	r0, r3
 926 01f4 FFF7FEFF 		bl	osThreadFlagsSet
 231:Core/Src/uart_at.c ****                             osMemoryPoolFree(mpid_ATCMD_MemPool, PendingCommand);
 927              		.loc 1 231 29
 928 01f8 2A4B     		ldr	r3, .L48+12
 929 01fa 1B68     		ldr	r3, [r3]
 930 01fc 7969     		ldr	r1, [r7, #20]
 931 01fe 1846     		mov	r0, r3
 932 0200 FFF7FEFF 		bl	osMemoryPoolFree
 933              	.L40:
 232:Core/Src/uart_at.c ****                         }
 233:Core/Src/uart_at.c ****                         osMemoryPoolFree(mpid_ATCMD_MemPool, new_cmd);
 934              		.loc 1 233 25
 935 0204 274B     		ldr	r3, .L48+12
 936 0206 1B68     		ldr	r3, [r3]
 937 0208 BA68     		ldr	r2, [r7, #8]
 938 020a 1146     		mov	r1, r2
 939 020c 1846     		mov	r0, r3
 940 020e FFF7FEFF 		bl	osMemoryPoolFree
 234:Core/Src/uart_at.c ****                         PendingCommand = NULL;
 941              		.loc 1 234 40
 942 0212 0023     		movs	r3, #0
 943 0214 7B61     		str	r3, [r7, #20]
 235:Core/Src/uart_at.c ****                         ATTaskFSM = AT_IDLE;                        
 944              		.loc 1 235 35
 945 0216 0023     		movs	r3, #0
 946 0218 FB77     		strb	r3, [r7, #31]
 236:Core/Src/uart_at.c ****                     }
 237:Core/Src/uart_at.c ****                     else
 238:Core/Src/uart_at.c ****                     {
 239:Core/Src/uart_at.c ****                         //unexpected response - retry
 240:Core/Src/uart_at.c ****                         if (CurrentRetries < AT_COMMANDS[PendingCommand->command].retries)
 241:Core/Src/uart_at.c ****                         {
 242:Core/Src/uart_at.c ****                             CurrentRetries++;
 243:Core/Src/uart_at.c ****                             send_cmd = PendingCommand;
 244:Core/Src/uart_at.c ****                             PendingCommand = NULL;
 245:Core/Src/uart_at.c ****                             osMemoryPoolFree(mpid_ATCMD_MemPool, new_cmd);
 246:Core/Src/uart_at.c ****                         }
 247:Core/Src/uart_at.c ****                         else
 248:Core/Src/uart_at.c ****                         {
 249:Core/Src/uart_at.c ****                             // command failure after retries
 250:Core/Src/uart_at.c ****                             gPendingResponse = new_cmd->response;
 251:Core/Src/uart_at.c ****                             if(PendingCommand != NULL)
 252:Core/Src/uart_at.c ****                             {
 253:Core/Src/uart_at.c ****                                 osThreadFlagsSet(PendingCommand->RequestedBy, SEND_RAW_AT_WAIT_FLAG
 254:Core/Src/uart_at.c ****                                 osMemoryPoolFree(mpid_ATCMD_MemPool, PendingCommand);
 255:Core/Src/uart_at.c ****                             }
 256:Core/Src/uart_at.c ****                             osMemoryPoolFree(mpid_ATCMD_MemPool, new_cmd);
 257:Core/Src/uart_at.c ****                             PendingCommand = NULL;                            
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 23


 258:Core/Src/uart_at.c ****                             ATTaskFSM = AT_IDLE;                            
 259:Core/Src/uart_at.c ****                         }
 260:Core/Src/uart_at.c ****                     }
 261:Core/Src/uart_at.c ****                     break;
 947              		.loc 1 261 21
 948 021a 48E0     		b	.L27
 949              	.L39:
 240:Core/Src/uart_at.c ****                         {
 950              		.loc 1 240 72
 951 021c 7B69     		ldr	r3, [r7, #20]
 952 021e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 953 0220 1946     		mov	r1, r3
 240:Core/Src/uart_at.c ****                         {
 954              		.loc 1 240 82
 955 0222 1E4A     		ldr	r2, .L48+4
 956 0224 0B46     		mov	r3, r1
 957 0226 5B00     		lsls	r3, r3, #1
 958 0228 0B44     		add	r3, r3, r1
 959 022a DB00     		lsls	r3, r3, #3
 960 022c 1344     		add	r3, r3, r2
 961 022e 0233     		adds	r3, r3, #2
 962 0230 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 963 0232 1A46     		mov	r2, r3
 240:Core/Src/uart_at.c ****                         {
 964              		.loc 1 240 28
 965 0234 3B69     		ldr	r3, [r7, #16]
 966 0236 9342     		cmp	r3, r2
 967 0238 0ED2     		bcs	.L42
 242:Core/Src/uart_at.c ****                             send_cmd = PendingCommand;
 968              		.loc 1 242 43
 969 023a 3B69     		ldr	r3, [r7, #16]
 970 023c 0133     		adds	r3, r3, #1
 971 023e 3B61     		str	r3, [r7, #16]
 243:Core/Src/uart_at.c ****                             PendingCommand = NULL;
 972              		.loc 1 243 38
 973 0240 7B69     		ldr	r3, [r7, #20]
 974 0242 BB61     		str	r3, [r7, #24]
 244:Core/Src/uart_at.c ****                             osMemoryPoolFree(mpid_ATCMD_MemPool, new_cmd);
 975              		.loc 1 244 44
 976 0244 0023     		movs	r3, #0
 977 0246 7B61     		str	r3, [r7, #20]
 245:Core/Src/uart_at.c ****                         }
 978              		.loc 1 245 29
 979 0248 164B     		ldr	r3, .L48+12
 980 024a 1B68     		ldr	r3, [r3]
 981 024c BA68     		ldr	r2, [r7, #8]
 982 024e 1146     		mov	r1, r2
 983 0250 1846     		mov	r0, r3
 984 0252 FFF7FEFF 		bl	osMemoryPoolFree
 985              		.loc 1 261 21
 986 0256 2AE0     		b	.L27
 987              	.L42:
 250:Core/Src/uart_at.c ****                             if(PendingCommand != NULL)
 988              		.loc 1 250 55
 989 0258 BB68     		ldr	r3, [r7, #8]
 990 025a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 250:Core/Src/uart_at.c ****                             if(PendingCommand != NULL)
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 24


 991              		.loc 1 250 46
 992 025c 104B     		ldr	r3, .L48+8
 993 025e 1A70     		strb	r2, [r3]
 251:Core/Src/uart_at.c ****                             {
 994              		.loc 1 251 31
 995 0260 7B69     		ldr	r3, [r7, #20]
 996 0262 002B     		cmp	r3, #0
 997 0264 0BD0     		beq	.L43
 253:Core/Src/uart_at.c ****                                 osMemoryPoolFree(mpid_ATCMD_MemPool, PendingCommand);
 998              		.loc 1 253 33
 999 0266 7B69     		ldr	r3, [r7, #20]
 1000 0268 9B68     		ldr	r3, [r3, #8]
 1001 026a 8021     		movs	r1, #128
 1002 026c 1846     		mov	r0, r3
 1003 026e FFF7FEFF 		bl	osThreadFlagsSet
 254:Core/Src/uart_at.c ****                             }
 1004              		.loc 1 254 33
 1005 0272 0C4B     		ldr	r3, .L48+12
 1006 0274 1B68     		ldr	r3, [r3]
 1007 0276 7969     		ldr	r1, [r7, #20]
 1008 0278 1846     		mov	r0, r3
 1009 027a FFF7FEFF 		bl	osMemoryPoolFree
 1010              	.L43:
 256:Core/Src/uart_at.c ****                             PendingCommand = NULL;                            
 1011              		.loc 1 256 29
 1012 027e 094B     		ldr	r3, .L48+12
 1013 0280 1B68     		ldr	r3, [r3]
 1014 0282 BA68     		ldr	r2, [r7, #8]
 1015 0284 1146     		mov	r1, r2
 1016 0286 1846     		mov	r0, r3
 1017 0288 FFF7FEFF 		bl	osMemoryPoolFree
 257:Core/Src/uart_at.c ****                             ATTaskFSM = AT_IDLE;                            
 1018              		.loc 1 257 44
 1019 028c 0023     		movs	r3, #0
 1020 028e 7B61     		str	r3, [r7, #20]
 258:Core/Src/uart_at.c ****                         }
 1021              		.loc 1 258 39
 1022 0290 0023     		movs	r3, #0
 1023 0292 FB77     		strb	r3, [r7, #31]
 1024              		.loc 1 261 21
 1025 0294 0BE0     		b	.L27
 1026              	.L49:
 1027 0296 00BF     		.align	2
 1028              	.L48:
 1029 0298 00000000 		.word	ATQueueHandle
 1030 029c 00000000 		.word	AT_COMMANDS
 1031 02a0 00000000 		.word	gPendingResponse
 1032 02a4 00000000 		.word	mpid_ATCMD_MemPool
 1033 02a8 00000000 		.word	mpid_LoRaPayload_MemPool
 1034              	.L46:
 262:Core/Src/uart_at.c ****                 }
 263:Core/Src/uart_at.c ****                 }
 264:Core/Src/uart_at.c ****             }            
 1035              		.loc 1 264 13
 1036 02ac 00BF     		nop
 1037              	.L27:
 265:Core/Src/uart_at.c ****         }
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 25


 266:Core/Src/uart_at.c ****         if (send_cmd != NULL)
 1038              		.loc 1 266 12
 1039 02ae BB69     		ldr	r3, [r7, #24]
 1040 02b0 002B     		cmp	r3, #0
 1041 02b2 3FF4B3AE 		beq	.L45
 1042              	.LBB7:
 267:Core/Src/uart_at.c ****         {
 268:Core/Src/uart_at.c ****             PendingCommand = send_cmd;
 1043              		.loc 1 268 28
 1044 02b6 BB69     		ldr	r3, [r7, #24]
 1045 02b8 7B61     		str	r3, [r7, #20]
 269:Core/Src/uart_at.c ****             send_cmd = NULL;
 1046              		.loc 1 269 22
 1047 02ba 0023     		movs	r3, #0
 1048 02bc BB61     		str	r3, [r7, #24]
 270:Core/Src/uart_at.c ****             ATTaskFSM = AT_WAITING_RESPONSE;
 1049              		.loc 1 270 23
 1050 02be 0123     		movs	r3, #1
 1051 02c0 FB77     		strb	r3, [r7, #31]
 271:Core/Src/uart_at.c ****             SendToUART(PendingCommand->tx_payload->Buf, strlen(PendingCommand->tx_payload->Buf));
 1052              		.loc 1 271 38
 1053 02c2 7B69     		ldr	r3, [r7, #20]
 1054 02c4 5B68     		ldr	r3, [r3, #4]
 1055              		.loc 1 271 50
 1056 02c6 1C46     		mov	r4, r3
 1057              		.loc 1 271 78
 1058 02c8 7B69     		ldr	r3, [r7, #20]
 1059 02ca 5B68     		ldr	r3, [r3, #4]
 1060              		.loc 1 271 13
 1061 02cc 1846     		mov	r0, r3
 1062 02ce FFF7FEFF 		bl	strlen
 1063 02d2 0346     		mov	r3, r0
 1064 02d4 1946     		mov	r1, r3
 1065 02d6 2046     		mov	r0, r4
 1066 02d8 FFF7FEFF 		bl	SendToUART
 1067              	.LBE7:
 136:Core/Src/uart_at.c ****         if(atevent == osErrorTimeout)
 1068              		.loc 1 136 17
 1069 02dc 9EE6     		b	.L45
 1070              		.cfi_endproc
 1071              	.LFE7:
 1073 02de 00BF     		.section	.rodata
 1074              		.align	2
 1075              	.LC0:
 1076 0000 3A00     		.ascii	":\000"
 1077              		.section	.text.ATParsingTaskCode,"ax",%progbits
 1078              		.align	1
 1079              		.global	ATParsingTaskCode
 1080              		.syntax unified
 1081              		.thumb
 1082              		.thumb_func
 1083              		.fpu fpv4-sp-d16
 1085              	ATParsingTaskCode:
 1086              	.LFB8:
 272:Core/Src/uart_at.c ****         }
 273:Core/Src/uart_at.c ****     }
 274:Core/Src/uart_at.c ****     /* USER CODE END StartCmdProcessing */
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 26


 275:Core/Src/uart_at.c ****     /* USER CODE END 5 */
 276:Core/Src/uart_at.c **** }
 277:Core/Src/uart_at.c **** 
 278:Core/Src/uart_at.c **** /* USER CODE BEGIN Header_StartATHandling */
 279:Core/Src/uart_at.c **** /**
 280:Core/Src/uart_at.c ****  * @brief Function implementing the cmdHandlingTask thread.
 281:Core/Src/uart_at.c ****  * @param argument: Not used
 282:Core/Src/uart_at.c ****  * @retval None
 283:Core/Src/uart_at.c ****  */
 284:Core/Src/uart_at.c **** /* USER CODE END Header_StartATHandling */
 285:Core/Src/uart_at.c **** void ATParsingTaskCode(void const *argument)
 286:Core/Src/uart_at.c **** {
 1087              		.loc 1 286 1
 1088              		.cfi_startproc
 1089              		@ args = 0, pretend = 0, frame = 48
 1090              		@ frame_needed = 1, uses_anonymous_args = 0
 1091 0000 90B5     		push	{r4, r7, lr}
 1092              	.LCFI18:
 1093              		.cfi_def_cfa_offset 12
 1094              		.cfi_offset 4, -12
 1095              		.cfi_offset 7, -8
 1096              		.cfi_offset 14, -4
 1097 0002 8DB0     		sub	sp, sp, #52
 1098              	.LCFI19:
 1099              		.cfi_def_cfa_offset 64
 1100 0004 00AF     		add	r7, sp, #0
 1101              	.LCFI20:
 1102              		.cfi_def_cfa_register 7
 1103 0006 7860     		str	r0, [r7, #4]
 287:Core/Src/uart_at.c ****     /* USER CODE BEGIN StartATHandling */
 288:Core/Src/uart_at.c ****     /* Infinite loop */
 289:Core/Src/uart_at.c ****     // REF: https://www.keil.com/pack/doc/cmsis/RTOS/html/group__CMSIS__RTOS__Mail.html
 290:Core/Src/uart_at.c ****     osStatus_t uartevent;
 291:Core/Src/uart_at.c ****     UART_MEM_BLOCK_t *pMem;
 292:Core/Src/uart_at.c ****     LORA_PAYLOAD_MEM_BLOCK_t *pLoRaPayload;
 293:Core/Src/uart_at.c ****     CMD_t *pATResponse;
 294:Core/Src/uart_at.c ****     
 295:Core/Src/uart_at.c ****     mpid_ATCMD_MemPool = osMemoryPoolNew(ATCMD_MEMPOOL_OBJECTS, sizeof(CMD_t), NULL);
 1104              		.loc 1 295 26
 1105 0008 0022     		movs	r2, #0
 1106 000a 0C21     		movs	r1, #12
 1107 000c 0820     		movs	r0, #8
 1108 000e FFF7FEFF 		bl	osMemoryPoolNew
 1109 0012 0346     		mov	r3, r0
 1110              		.loc 1 295 24
 1111 0014 604A     		ldr	r2, .L60
 1112 0016 1360     		str	r3, [r2]
 296:Core/Src/uart_at.c ****     mpid_LoRaPayload_MemPool = osMemoryPoolNew(LORAPAYLOAD_MEMPOOL_OBJECTS, sizeof(LORA_PAYLOAD_MEM
 1113              		.loc 1 296 32
 1114 0018 0022     		movs	r2, #0
 1115 001a 5421     		movs	r1, #84
 1116 001c 0220     		movs	r0, #2
 1117 001e FFF7FEFF 		bl	osMemoryPoolNew
 1118 0022 0346     		mov	r3, r0
 1119              		.loc 1 296 30
 1120 0024 5D4A     		ldr	r2, .L60+4
 1121 0026 1360     		str	r3, [r2]
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 27


 297:Core/Src/uart_at.c ****     Ringbuf_Init();
 1122              		.loc 1 297 5
 1123 0028 FFF7FEFF 		bl	Ringbuf_Init
 298:Core/Src/uart_at.c ****     uint32_t CurrentRetries = 0;
 1124              		.loc 1 298 14
 1125 002c 0023     		movs	r3, #0
 1126 002e BB62     		str	r3, [r7, #40]
 1127              	.L59:
 299:Core/Src/uart_at.c ****     while (1)
 300:Core/Src/uart_at.c ****     {
 301:Core/Src/uart_at.c ****         uartevent = osMessageQueueGet(uartQueueHandle, &pMem, NULL,  osWaitForever); // wait for me
 1128              		.loc 1 301 21
 1129 0030 5B4B     		ldr	r3, .L60+8
 1130 0032 1868     		ldr	r0, [r3]
 1131 0034 07F11001 		add	r1, r7, #16
 1132 0038 4FF0FF33 		mov	r3, #-1
 1133 003c 0022     		movs	r2, #0
 1134 003e FFF7FEFF 		bl	osMessageQueueGet
 1135 0042 7862     		str	r0, [r7, #36]
 302:Core/Src/uart_at.c ****         if (uartevent == osOK)
 1136              		.loc 1 302 12
 1137 0044 7B6A     		ldr	r3, [r7, #36]
 1138 0046 002B     		cmp	r3, #0
 1139 0048 F2D1     		bne	.L59
 303:Core/Src/uart_at.c ****         {
 304:Core/Src/uart_at.c ****             pATResponse = (CMD_t *)osMemoryPoolAlloc(mpid_ATCMD_MemPool, 0U); // get Mem Block
 1140              		.loc 1 304 36
 1141 004a 534B     		ldr	r3, .L60
 1142 004c 1B68     		ldr	r3, [r3]
 1143 004e 0021     		movs	r1, #0
 1144 0050 1846     		mov	r0, r3
 1145 0052 FFF7FEFF 		bl	osMemoryPoolAlloc
 1146 0056 0346     		mov	r3, r0
 1147              		.loc 1 304 25
 1148 0058 FB60     		str	r3, [r7, #12]
 305:Core/Src/uart_at.c ****             if (pATResponse != NULL)
 1149              		.loc 1 305 29
 1150 005a FB68     		ldr	r3, [r7, #12]
 1151              		.loc 1 305 16
 1152 005c 002B     		cmp	r3, #0
 1153 005e 00F09180 		beq	.L52
 306:Core/Src/uart_at.c ****             {
 307:Core/Src/uart_at.c ****                 pATResponse->command = AT_COMMAND_UNDEFINED;
 1154              		.loc 1 307 28
 1155 0062 FB68     		ldr	r3, [r7, #12]
 1156              		.loc 1 307 38
 1157 0064 0B22     		movs	r2, #11
 1158 0066 1A70     		strb	r2, [r3]
 308:Core/Src/uart_at.c ****                 pATResponse->response = ParseResponse(pMem->Buf);
 1159              		.loc 1 308 59
 1160 0068 3B69     		ldr	r3, [r7, #16]
 1161              		.loc 1 308 28
 1162 006a FC68     		ldr	r4, [r7, #12]
 1163              		.loc 1 308 41
 1164 006c 1846     		mov	r0, r3
 1165 006e FFF7FEFF 		bl	ParseResponse
 1166 0072 0346     		mov	r3, r0
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 28


 1167              		.loc 1 308 39
 1168 0074 6370     		strb	r3, [r4, #1]
 309:Core/Src/uart_at.c ****                 if(pATResponse!=AT_RESPONSE_UNDEFINED)
 1169              		.loc 1 309 31
 1170 0076 FB68     		ldr	r3, [r7, #12]
 1171              		.loc 1 309 19
 1172 0078 0A2B     		cmp	r3, #10
 1173 007a 7BD0     		beq	.L53
 310:Core/Src/uart_at.c ****                 {
 311:Core/Src/uart_at.c ****                     if(pATResponse->response==AT_RX_OK)
 1174              		.loc 1 311 35
 1175 007c FB68     		ldr	r3, [r7, #12]
 1176 007e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1177              		.loc 1 311 23
 1178 0080 022B     		cmp	r3, #2
 1179 0082 6BD1     		bne	.L54
 1180              	.LBB8:
 312:Core/Src/uart_at.c ****                     {
 313:Core/Src/uart_at.c ****                         //parse received data
 314:Core/Src/uart_at.c ****                         char *pch;
 315:Core/Src/uart_at.c ****                         char *rcvDataPointer, asciiChar[3];  
 316:Core/Src/uart_at.c ****                         uint32_t number;                      
 317:Core/Src/uart_at.c ****                         pLoRaPayload = (LORA_PAYLOAD_MEM_BLOCK_t *)osMemoryPoolAlloc(mpid_LoRaPaylo
 1181              		.loc 1 317 68
 1182 0084 454B     		ldr	r3, .L60+4
 1183 0086 1B68     		ldr	r3, [r3]
 1184 0088 0021     		movs	r1, #0
 1185 008a 1846     		mov	r0, r3
 1186 008c FFF7FEFF 		bl	osMemoryPoolAlloc
 1187 0090 3862     		str	r0, [r7, #32]
 318:Core/Src/uart_at.c ****                         // Data Format: RX:616263:2:-43:25
 319:Core/Src/uart_at.c ****                         pch = strtok(pMem->Buf, ":");
 1188              		.loc 1 319 42
 1189 0092 3B69     		ldr	r3, [r7, #16]
 1190              		.loc 1 319 31
 1191 0094 4349     		ldr	r1, .L60+12
 1192 0096 1846     		mov	r0, r3
 1193 0098 FFF7FEFF 		bl	strtok
 1194 009c 0346     		mov	r3, r0
 1195              		.loc 1 319 29
 1196 009e FB61     		str	r3, [r7, #28]
 320:Core/Src/uart_at.c ****                         pch = strtok(NULL, ":");
 1197              		.loc 1 320 31
 1198 00a0 4049     		ldr	r1, .L60+12
 1199 00a2 0020     		movs	r0, #0
 1200 00a4 FFF7FEFF 		bl	strtok
 1201 00a8 0346     		mov	r3, r0
 1202              		.loc 1 320 29
 1203 00aa FB61     		str	r3, [r7, #28]
 321:Core/Src/uart_at.c ****                         rcvDataPointer = pch;
 1204              		.loc 1 321 40
 1205 00ac FB69     		ldr	r3, [r7, #28]
 1206 00ae BB61     		str	r3, [r7, #24]
 322:Core/Src/uart_at.c ****                         asciiChar[3] = '\0';
 1207              		.loc 1 322 38
 1208 00b0 0023     		movs	r3, #0
 1209 00b2 FB72     		strb	r3, [r7, #11]
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 29


 323:Core/Src/uart_at.c ****                         pLoRaPayload->Buf[0] = '\0';
 1210              		.loc 1 323 46
 1211 00b4 3B6A     		ldr	r3, [r7, #32]
 1212 00b6 0022     		movs	r2, #0
 1213 00b8 1A75     		strb	r2, [r3, #20]
 324:Core/Src/uart_at.c ****                         pLoRaPayload->rcvDataLen = strlen(rcvDataPointer);
 1214              		.loc 1 324 52
 1215 00ba B869     		ldr	r0, [r7, #24]
 1216 00bc FFF7FEFF 		bl	strlen
 1217 00c0 0246     		mov	r2, r0
 1218              		.loc 1 324 50
 1219 00c2 3B6A     		ldr	r3, [r7, #32]
 1220 00c4 9A60     		str	r2, [r3, #8]
 1221              	.LBB9:
 325:Core/Src/uart_at.c ****                         for (uint32_t i = 0; i < pLoRaPayload->rcvDataLen; i = i + 2)
 1222              		.loc 1 325 39
 1223 00c6 0023     		movs	r3, #0
 1224 00c8 FB62     		str	r3, [r7, #44]
 1225              		.loc 1 325 25
 1226 00ca 19E0     		b	.L55
 1227              	.L56:
 1228              	.LBB10:
 326:Core/Src/uart_at.c ****                         {
 327:Core/Src/uart_at.c ****                             memcpy(asciiChar, rcvDataPointer + i, 2);
 1229              		.loc 1 327 62 discriminator 3
 1230 00cc BA69     		ldr	r2, [r7, #24]
 1231 00ce FB6A     		ldr	r3, [r7, #44]
 1232 00d0 1344     		add	r3, r3, r2
 1233 00d2 1B88     		ldrh	r3, [r3]	@ unaligned
 1234 00d4 9BB2     		uxth	r3, r3
 1235              		.loc 1 327 29 discriminator 3
 1236 00d6 3B81     		strh	r3, [r7, #8]	@ movhi
 328:Core/Src/uart_at.c ****                             number = (uint32_t)strtol(asciiChar, NULL, 16);
 1237              		.loc 1 328 48 discriminator 3
 1238 00d8 07F10803 		add	r3, r7, #8
 1239 00dc 1022     		movs	r2, #16
 1240 00de 0021     		movs	r1, #0
 1241 00e0 1846     		mov	r0, r3
 1242 00e2 FFF7FEFF 		bl	strtol
 1243 00e6 0346     		mov	r3, r0
 1244              		.loc 1 328 36 discriminator 3
 1245 00e8 7B61     		str	r3, [r7, #20]
 329:Core/Src/uart_at.c ****                             //sprintf(pLoRaPayload->Buf, "%s%c", pLoRaPayload->Buf, number);
 330:Core/Src/uart_at.c ****                             pLoRaPayload->Buf[i / 2] = number & 0x00FF;
 1246              		.loc 1 330 49 discriminator 3
 1247 00ea FB6A     		ldr	r3, [r7, #44]
 1248 00ec 5B08     		lsrs	r3, r3, #1
 1249              		.loc 1 330 54 discriminator 3
 1250 00ee 7A69     		ldr	r2, [r7, #20]
 1251 00f0 D1B2     		uxtb	r1, r2
 1252 00f2 3A6A     		ldr	r2, [r7, #32]
 1253 00f4 1344     		add	r3, r3, r2
 1254 00f6 0A46     		mov	r2, r1
 1255 00f8 1A75     		strb	r2, [r3, #20]
 1256              	.LBE10:
 325:Core/Src/uart_at.c ****                         {
 1257              		.loc 1 325 78 discriminator 3
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 30


 1258 00fa FB6A     		ldr	r3, [r7, #44]
 1259 00fc 0233     		adds	r3, r3, #2
 1260 00fe FB62     		str	r3, [r7, #44]
 1261              	.L55:
 325:Core/Src/uart_at.c ****                         {
 1262              		.loc 1 325 62 discriminator 1
 1263 0100 3B6A     		ldr	r3, [r7, #32]
 1264 0102 9B68     		ldr	r3, [r3, #8]
 325:Core/Src/uart_at.c ****                         {
 1265              		.loc 1 325 25 discriminator 1
 1266 0104 FA6A     		ldr	r2, [r7, #44]
 1267 0106 9A42     		cmp	r2, r3
 1268 0108 E0D3     		bcc	.L56
 1269              	.LBE9:
 331:Core/Src/uart_at.c ****                         }
 332:Core/Src/uart_at.c ****                         pch = strtok(NULL, ":");
 1270              		.loc 1 332 31
 1271 010a 2649     		ldr	r1, .L60+12
 1272 010c 0020     		movs	r0, #0
 1273 010e FFF7FEFF 		bl	strtok
 1274 0112 0346     		mov	r3, r0
 1275              		.loc 1 332 29
 1276 0114 FB61     		str	r3, [r7, #28]
 333:Core/Src/uart_at.c ****                         pLoRaPayload->rcvPort = atoi(pch);
 1277              		.loc 1 333 49
 1278 0116 F869     		ldr	r0, [r7, #28]
 1279 0118 FFF7FEFF 		bl	atoi
 1280 011c 0346     		mov	r3, r0
 1281 011e 1A46     		mov	r2, r3
 1282              		.loc 1 333 47
 1283 0120 3B6A     		ldr	r3, [r7, #32]
 1284 0122 1A60     		str	r2, [r3]
 334:Core/Src/uart_at.c ****                         pch = strtok(NULL, ":");
 1285              		.loc 1 334 31
 1286 0124 1F49     		ldr	r1, .L60+12
 1287 0126 0020     		movs	r0, #0
 1288 0128 FFF7FEFF 		bl	strtok
 1289 012c 0346     		mov	r3, r0
 1290              		.loc 1 334 29
 1291 012e FB61     		str	r3, [r7, #28]
 335:Core/Src/uart_at.c ****                         pLoRaPayload->rcvRSSI = atoi(pch);
 1292              		.loc 1 335 49
 1293 0130 F869     		ldr	r0, [r7, #28]
 1294 0132 FFF7FEFF 		bl	atoi
 1295 0136 0246     		mov	r2, r0
 1296              		.loc 1 335 47
 1297 0138 3B6A     		ldr	r3, [r7, #32]
 1298 013a DA60     		str	r2, [r3, #12]
 336:Core/Src/uart_at.c ****                         pch = strtok(NULL, ":");
 1299              		.loc 1 336 31
 1300 013c 1949     		ldr	r1, .L60+12
 1301 013e 0020     		movs	r0, #0
 1302 0140 FFF7FEFF 		bl	strtok
 1303 0144 0346     		mov	r3, r0
 1304              		.loc 1 336 29
 1305 0146 FB61     		str	r3, [r7, #28]
 337:Core/Src/uart_at.c ****                         pLoRaPayload->rcvSNR = atoi(pch);
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 31


 1306              		.loc 1 337 48
 1307 0148 F869     		ldr	r0, [r7, #28]
 1308 014a FFF7FEFF 		bl	atoi
 1309 014e 0246     		mov	r2, r0
 1310              		.loc 1 337 46
 1311 0150 3B6A     		ldr	r3, [r7, #32]
 1312 0152 1A61     		str	r2, [r3, #16]
 338:Core/Src/uart_at.c ****                         pATResponse->rx_payload = pLoRaPayload;
 1313              		.loc 1 338 36
 1314 0154 FB68     		ldr	r3, [r7, #12]
 1315              		.loc 1 338 49
 1316 0156 3A6A     		ldr	r2, [r7, #32]
 1317 0158 5A60     		str	r2, [r3, #4]
 1318              	.LBE8:
 1319 015a 02E0     		b	.L57
 1320              	.L54:
 339:Core/Src/uart_at.c ****                     }    
 340:Core/Src/uart_at.c ****                     else
 341:Core/Src/uart_at.c ****                     {
 342:Core/Src/uart_at.c ****                         pATResponse->rx_payload = NULL;
 1321              		.loc 1 342 36
 1322 015c FB68     		ldr	r3, [r7, #12]
 1323              		.loc 1 342 49
 1324 015e 0022     		movs	r2, #0
 1325 0160 5A60     		str	r2, [r3, #4]
 1326              	.L57:
 343:Core/Src/uart_at.c ****                     }                    
 344:Core/Src/uart_at.c ****                     // Put command to queue
 345:Core/Src/uart_at.c ****                     osMessageQueuePut(ATQueueHandle, &pATResponse, 0U, 0U);
 1327              		.loc 1 345 21
 1328 0162 114B     		ldr	r3, .L60+16
 1329 0164 1868     		ldr	r0, [r3]
 1330 0166 07F10C01 		add	r1, r7, #12
 1331 016a 0023     		movs	r3, #0
 1332 016c 0022     		movs	r2, #0
 1333 016e FFF7FEFF 		bl	osMessageQueuePut
 1334 0172 08E0     		b	.L58
 1335              	.L53:
 346:Core/Src/uart_at.c ****                 }
 347:Core/Src/uart_at.c ****                 else
 348:Core/Src/uart_at.c ****                 {
 349:Core/Src/uart_at.c ****                     osMemoryPoolFree(mpid_ATCMD_MemPool,pATResponse);
 1336              		.loc 1 349 21
 1337 0174 084B     		ldr	r3, .L60
 1338 0176 1B68     		ldr	r3, [r3]
 1339 0178 FA68     		ldr	r2, [r7, #12]
 1340 017a 1146     		mov	r1, r2
 1341 017c 1846     		mov	r0, r3
 1342 017e FFF7FEFF 		bl	osMemoryPoolFree
 1343 0182 00E0     		b	.L58
 1344              	.L52:
 350:Core/Src/uart_at.c ****                 }
 351:Core/Src/uart_at.c ****             } 
 352:Core/Src/uart_at.c ****             else
 353:Core/Src/uart_at.c ****             {
 354:Core/Src/uart_at.c ****                 while(1);
 1345              		.loc 1 354 22 discriminator 1
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 32


 1346 0184 FEE7     		b	.L52
 1347              	.L58:
 355:Core/Src/uart_at.c ****             }           
 356:Core/Src/uart_at.c ****             osMemoryPoolFree(mpid_UART_MemPool,pMem);
 1348              		.loc 1 356 13
 1349 0186 094B     		ldr	r3, .L60+20
 1350 0188 1B68     		ldr	r3, [r3]
 1351 018a 3A69     		ldr	r2, [r7, #16]
 1352 018c 1146     		mov	r1, r2
 1353 018e 1846     		mov	r0, r3
 1354 0190 FFF7FEFF 		bl	osMemoryPoolFree
 301:Core/Src/uart_at.c ****         if (uartevent == osOK)
 1355              		.loc 1 301 19
 1356 0194 4CE7     		b	.L59
 1357              	.L61:
 1358 0196 00BF     		.align	2
 1359              	.L60:
 1360 0198 00000000 		.word	mpid_ATCMD_MemPool
 1361 019c 00000000 		.word	mpid_LoRaPayload_MemPool
 1362 01a0 00000000 		.word	uartQueueHandle
 1363 01a4 00000000 		.word	.LC0
 1364 01a8 00000000 		.word	ATQueueHandle
 1365 01ac 00000000 		.word	mpid_UART_MemPool
 1366              		.cfi_endproc
 1367              	.LFE8:
 1369              		.text
 1370              	.Letext0:
 1371              		.file 2 "c:\\arm-gcc\\tools\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\\machine\\
 1372              		.file 3 "c:\\arm-gcc\\tools\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\\sys\\_std
 1373              		.file 4 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1374              		.file 5 "Core/Inc/uartRingBufDMA.h"
 1375              		.file 6 "Core/Inc/uart_at.h"
 1376              		.file 7 "<built-in>"
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 uart_at.c
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:22     .bss.cmd_buffer:00000000 cmd_buffer
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:19     .bss.cmd_buffer:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:28     .bss.cmd_len:00000000 cmd_len
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:29     .bss.cmd_len:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:34     .bss.byte:00000000 byte
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:35     .bss.byte:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:41     .bss.mpid_ATCMD_MemPool:00000000 mpid_ATCMD_MemPool
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:38     .bss.mpid_ATCMD_MemPool:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:48     .bss.mpid_LoRaPayload_MemPool:00000000 mpid_LoRaPayload_MemPool
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:45     .bss.mpid_LoRaPayload_MemPool:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:55     .rodata.AT_COMMANDS:00000000 AT_COMMANDS
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:52     .rodata.AT_COMMANDS:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:145    .rodata.AT_RESPONSES:00000000 AT_RESPONSES
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:142    .rodata.AT_RESPONSES:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:182    .bss.gPendingResponse:00000000 gPendingResponse
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:183    .bss.gPendingResponse:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:189    .bss.gATPayload:00000000 gATPayload
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:186    .bss.gATPayload:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:192    .text.sendRAWAT:00000000 $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:200    .text.sendRAWAT:00000000 sendRAWAT
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:488    .text.ParseAT:00000000 ParseAT
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:368    .text.sendRAWAT:000000e8 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:377    .text.ParseResponse:00000000 $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:384    .text.ParseResponse:00000000 ParseResponse
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:476    .text.ParseResponse:00000068 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:481    .text.ParseAT:00000000 $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:583    .text.ParseAT:00000070 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:588    .text.ATHandlingTaskCode:00000000 $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:595    .text.ATHandlingTaskCode:00000000 ATHandlingTaskCode
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1029   .text.ATHandlingTaskCode:00000298 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1036   .text.ATHandlingTaskCode:000002ac $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1074   .rodata:00000000 $d
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1078   .text.ATParsingTaskCode:00000000 $t
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1085   .text.ATParsingTaskCode:00000000 ATParsingTaskCode
C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s:1360   .text.ATParsingTaskCode:00000198 $d

UNDEFINED SYMBOLS
osSemaphoreAcquire
osMemoryPoolAlloc
strlen
memcpy
osThreadGetId
osMessageQueuePut
osThreadFlagsClear
osThreadFlagsWait
osMemoryPoolFree
osSemaphoreRelease
ATCommandSemaphoreHandle
ATQueueHandle
strncmp
osMessageQueueGet
osThreadFlagsSet
LoRaWAN_RxEventCallback
LoRaWAN_JoinCallback
SendToUART
ARM GAS  C:\Users\EI\AppData\Local\Temp\ccZfeEcs.s 			page 34


osMemoryPoolNew
Ringbuf_Init
strtok
strtol
atoi
uartQueueHandle
mpid_UART_MemPool
